# CMSæŠ€è¡“ã‚¬ã‚¤ãƒ‰ - NO TRACE EXPLORER

> é–‹ç™ºè€…å‘ã‘ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
> æœ€çµ‚æ›´æ–°: 2025-01-15

## ğŸ“‹ ç›®æ¬¡

- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ](#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ )
- [Contentlayerè¨­å®š](#contentlayerè¨­å®š)
- [Sveltia CMSè¨­å®š](#sveltia-cmsè¨­å®š)
- [ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](#ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)
- [APIä»•æ§˜](#apiä»•æ§˜)
- [é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼](#é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼)
- [ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ](#ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ)

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Sveltia CMS                         â”‚
â”‚                  (ç®¡ç†ç”»é¢ /admin)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
                     Markdown (.mdx)
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Contentlayer                         â”‚
â”‚              (MDX â†’ TypeScriptå¤‰æ›)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Next.js Pages                         â”‚
â”‚        (/articles, /news, /articles/[slug])             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  React Components                        â”‚
â”‚        (ArticleCard, NewsCard, etc.)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
Content Author
    â†“
Sveltia CMS â†’ Git Commit â†’ GitHub Repository
    â†“
Webhook Trigger
    â†“
Vercel Build
    â†“
Contentlayer Processing
    â†“
Static Pages Generation
    â†“
CDN Distribution
```

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ã‚³ã‚¢æŠ€è¡“

| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| Next.js | 14.2.33 | ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| React | 18.3.1 | UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| TypeScript | ^5 | å‹ã‚·ã‚¹ãƒ†ãƒ  |
| Contentlayer | 0.3.4 | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç† |
| Tailwind CSS | ^3.4.1 | ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° |

### CMSé–¢é€£

| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| Sveltia CMS | Latest | ç®¡ç†ç”»é¢ |
| Gray Matter | ^4.0.3 | Frontmatterè§£æ |
| Remark | ^15.0.1 | Markdownå‡¦ç† |
| date-fns | Latest | æ—¥ä»˜å‡¦ç† |

### ã‚¤ãƒ³ãƒ•ãƒ©

- **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°**: Vercel
- **ç”»åƒCDN**: Cloudinary
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**: GitHub
- **CI/CD**: Vercelè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
notrace-nextjs/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ articles/              # ä¼æ¥­æ–‡ç« 
â”‚   â”‚   â”œâ”€â”€ page.tsx          # è¨˜äº‹ä¸€è¦§
â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚       â””â”€â”€ page.tsx      # è¨˜äº‹è©³ç´°
â”‚   â”œâ”€â”€ news/                  # ãƒ‹ãƒ¥ãƒ¼ã‚¹
â”‚   â”‚   â”œâ”€â”€ page.tsx          # ãƒ‹ãƒ¥ãƒ¼ã‚¹ä¸€è¦§
â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚       â””â”€â”€ page.tsx      # ãƒ‹ãƒ¥ãƒ¼ã‚¹è©³ç´°
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ hero-config/
â”‚           â””â”€â”€ route.ts       # Heroè¨­å®šAPI
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ articles/              # è¨˜äº‹é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ArticleCard.tsx   # è¨˜äº‹ã‚«ãƒ¼ãƒ‰
â”‚   â”‚   â””â”€â”€ Mdx.tsx           # MDXãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼
â”‚   â”œâ”€â”€ news/                  # ãƒ‹ãƒ¥ãƒ¼ã‚¹é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ NewsCard.tsx      # ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚«ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ ui/                    # å…±æœ‰UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ Container.tsx
â”‚   â”‚   â”œâ”€â”€ Section.tsx
â”‚   â”‚   â””â”€â”€ OptimizedImage.tsx
â”‚   â””â”€â”€ FeaturedArticlesSection.tsx  # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸çµ±åˆ
â”‚
â”œâ”€â”€ content/                   # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ articles/              # ä¼æ¥­æ–‡ç«  (.mdx)
â”‚   â”œâ”€â”€ news/                  # ãƒ‹ãƒ¥ãƒ¼ã‚¹ (.mdx)
â”‚   â””â”€â”€ hero/                  # Heroè¨­å®š (.md)
â”‚
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ admin/                 # Sveltia CMS
â”‚   â”‚   â”œâ”€â”€ config.yml        # CMSè¨­å®š
â”‚   â”‚   â””â”€â”€ index.html        # CMS ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â””â”€â”€ uploads/               # ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»åƒ
â”‚
â”œâ”€â”€ .contentlayer/             # ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ« (Gitç„¡è¦–)
â”œâ”€â”€ contentlayer.config.ts     # Contentlayerè¨­å®š
â””â”€â”€ next.config.js             # Next.jsè¨­å®š
```

---

## Contentlayerè¨­å®š

### åŸºæœ¬è¨­å®š (`contentlayer.config.ts`)

```typescript
import { defineDocumentType, makeSource } from 'contentlayer/source-files'

/** Articleæ–‡æ¡£ç±»å‹å®šä¹‰ - ä¼ä¸šæ–‡ç«  */
const Article = defineDocumentType(() => ({
  name: 'Article',
  filePathPattern: `articles/**/*.mdx`,
  contentType: 'mdx',
  fields: {
    title: { type: 'string', required: true },
    description: { type: 'string', required: true },
    date: { type: 'date', required: true },
    author: { type: 'string', required: true },
    category: {
      type: 'enum',
      options: ['ä¼æ¥­ãƒ‹ãƒ¥ãƒ¼ã‚¹', 'ã‚µãƒ¼ãƒ“ã‚¹', 'ã‚³ãƒ¼ãƒ’ãƒ¼äº‹æ¥­', 'å±•ç¤ºãƒ»ã‚¤ãƒ™ãƒ³ãƒˆ', 'é‡£å…·ãƒ»å™¨å…·', 'ãã®ä»–'],
      required: true
    },
    image: { type: 'string', required: false },
    featured: { type: 'boolean', default: false },
    published: { type: 'boolean', default: true },
    readTime: { type: 'string', required: false },
    tags: { type: 'list', of: { type: 'string' }, required: false },
    excerpt: { type: 'string', required: false },
  },
  computedFields: {
    slug: {
      type: 'string',
      resolve: (doc) => doc._raw.flattenedPath.replace('articles/', ''),
    },
    url: {
      type: 'string',
      resolve: (doc) => `/articles/${doc._raw.flattenedPath.replace('articles/', '')}`,
    },
  },
}))

export default makeSource({
  contentDirPath: 'content',
  documentTypes: [Article, News, Product],
})
```

### å‹å®šç¾©

Contentlayerã¯è‡ªå‹•çš„ã«TypeScriptå‹ã‚’ç”Ÿæˆã—ã¾ã™ï¼š

```typescript
// .contentlayer/generated/index.d.ts
export interface Article {
  _id: string
  _raw: { ... }
  type: 'Article'
  title: string
  description: string
  date: string
  author: string
  category: string
  image?: string
  featured: boolean
  published: boolean
  readTime?: string
  tags?: string[]
  excerpt?: string
  slug: string
  url: string
  body: { code: string }
}

export const allArticles: Article[]
```

### ãƒ‡ãƒ¼ã‚¿å–å¾—

```typescript
import { allArticles, allNews } from 'contentlayer/generated'
import { compareDesc } from 'date-fns'

// å…¬é–‹æ¸ˆã¿è¨˜äº‹ã‚’æ—¥ä»˜é †ã«å–å¾—
const publishedArticles = allArticles
  .filter((article) => article.published)
  .sort((a, b) => compareDesc(new Date(a.date), new Date(b.date)))

// ã‚«ãƒ†ã‚´ãƒªãƒ¼ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
const coffeeArticles = publishedArticles.filter(
  (article) => article.category === 'ã‚³ãƒ¼ãƒ’ãƒ¼äº‹æ¥­'
)

// æ³¨ç›®è¨˜äº‹ã®ã¿
const featuredArticles = publishedArticles.filter(
  (article) => article.featured
)
```

---

## Sveltia CMSè¨­å®š

### åŸºæœ¬è¨­å®š (`public/admin/config.yml`)

```yaml
backend:
  name: git-gateway
  branch: main

# æœ¬åœ°é–‹ç™ºãƒ¢ãƒ¼ãƒ‰
local_backend: true

media_folder: "public/uploads"
public_folder: "/uploads"

# Cloudinaryé›†æˆ
media_library:
  name: cloudinary
  config:
    cloud_name: ${NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME}
    api_key: ${NEXT_PUBLIC_CLOUDINARY_API_KEY}

collections:
  - name: "articles"
    label: "ä¼æ¥­æ–‡ç« "
    folder: "content/articles"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    extension: "mdx"
    format: "frontmatter"
    fields:
      - {label: "ã‚¿ã‚¤ãƒˆãƒ«", name: "title", widget: "string"}
      - {label: "èª¬æ˜", name: "description", widget: "text"}
      - {label: "å…¬é–‹æ—¥", name: "date", widget: "datetime"}
      - {label: "ã‚«ãƒ†ã‚´ãƒªãƒ¼", name: "category", widget: "select"}
      - {label: "æœ¬æ–‡", name: "body", widget: "markdown"}
```

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

```bash
# 1. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# 2. CMS ã‚¢ã‚¯ã‚»ã‚¹
http://localhost:3000/admin

# 3. ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¢ãƒ¼ãƒ‰ã§èªè¨¼ä¸è¦
```

### æœ¬ç•ªç’°å¢ƒ

**å¿…è¦ãªè¨­å®š**:

1. **GitHub OAuth Appä½œæˆ**
   - Settings â†’ Developer settings â†’ OAuth Apps
   - Homepage URL: `https://no-trace.jp`
   - Callback URL: `https://api.netlify.com/auth/done`

2. **ç’°å¢ƒå¤‰æ•°è¨­å®š** (Vercel)
   ```
   GITHUB_TOKEN=your_github_token
   ```

3. **Git Gatewayæœ‰åŠ¹åŒ–**
   - Netlify Identity ã¾ãŸã¯ GitHub OAuth

---

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### ArticleCard

è¨˜äº‹ä¸€è¦§ã§ä½¿ç”¨ã™ã‚‹ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚

**Props**:
```typescript
interface ArticleCardProps {
  article: Article
  featured?: boolean
}
```

**ä½¿ç”¨ä¾‹**:
```tsx
import { ArticleCard } from '@/components/articles/ArticleCard'

<ArticleCard article={article} />
<ArticleCard article={article} featured /> // æ³¨ç›®è¨˜äº‹
```

**ç‰¹å¾´**:
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- ãƒ›ãƒãƒ¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
- ç”»åƒé…å»¶èª­ã¿è¾¼ã¿
- ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒãƒƒã‚¸
- æ—¥ä»˜ãƒ»ã‚¿ã‚°è¡¨ç¤º

### NewsCard

ãƒ‹ãƒ¥ãƒ¼ã‚¹ä¸€è¦§ã§ä½¿ç”¨ã™ã‚‹ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚

**Props**:
```typescript
interface NewsCardProps {
  news: News
  featured?: boolean
  layout?: 'vertical' | 'horizontal'
}
```

**ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³**:
- `vertical`: ã‚«ãƒ¼ãƒ‰å½¢å¼ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
- `horizontal`: æ¨ªé•·ãƒªã‚¹ãƒˆå½¢å¼

**å¤–éƒ¨ãƒªãƒ³ã‚¯å¯¾å¿œ**:
```tsx
// å¤–éƒ¨ãƒªãƒ³ã‚¯ãŒã‚ã‚‹å ´åˆã€æ–°ã—ã„ã‚¿ãƒ–ã§é–‹ã
{news.externalLink && <ExternalLink className="w-4 h-4" />}
```

### Mdx

MDXã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€‚

**ä½¿ç”¨ä¾‹**:
```tsx
import { Mdx } from '@/components/articles/Mdx'

<article className="prose">
  <Mdx code={article.body.code} />
</article>
```

**ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**:
```css
prose prose-lg
prose-headings:text-text-dark
prose-p:text-text-secondary
prose-a:text-primary
```

---

## APIä»•æ§˜

### è¨˜äº‹ãƒ‡ãƒ¼ã‚¿å–å¾—

ContentlayerãŒè‡ªå‹•ç”Ÿæˆã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ï¼š

```typescript
import { allArticles } from 'contentlayer/generated'

// ãƒ“ãƒ«ãƒ‰æ™‚ã«é™çš„ç”Ÿæˆ
export async function generateStaticParams() {
  return allArticles.map((article) => ({
    slug: article.slug,
  }))
}

// ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
export async function generateMetadata({ params }) {
  const article = allArticles.find((a) => a.slug === params.slug)

  return {
    title: `${article.title} | NO TRACE EXPLORER`,
    description: article.description,
    openGraph: {
      title: article.title,
      description: article.description,
      images: article.image ? [article.image] : [],
    },
  }
}
```

### Heroè¨­å®šAPI

```typescript
// app/api/hero-config/route.ts
export async function GET() {
  const heroContent = await fs.readFile('content/hero/main.md', 'utf-8')
  const { data } = matter(heroContent)

  return Response.json(data)
}
```

---

## é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã®è¿½åŠ 

1. **Contentlayerè¨­å®šæ›´æ–°**
   ```typescript
   // contentlayer.config.ts
   const NewType = defineDocumentType(() => ({
     name: 'NewType',
     filePathPattern: `new-type/**/*.mdx`,
     fields: { ... },
   }))
   ```

2. **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ**
   ```bash
   mkdir -p content/new-type
   ```

3. **Sveltia CMSè¨­å®šè¿½åŠ **
   ```yaml
   # public/admin/config.yml
   collections:
     - name: "new-type"
       label: "æ–°ã—ã„ã‚¿ã‚¤ãƒ—"
       folder: "content/new-type"
   ```

4. **ãƒšãƒ¼ã‚¸ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ**
   ```bash
   mkdir app/new-type
   touch app/new-type/page.tsx
   ```

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

```bash
# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# CMSç®¡ç†ç”»é¢
http://localhost:3000/admin

# å‹ãƒã‚§ãƒƒã‚¯
npm run type-check

# ãƒ“ãƒ«ãƒ‰
npm run build
```

### å¤‰æ›´ã®ãƒ†ã‚¹ãƒˆ

1. **Contentlayerã®å†ç”Ÿæˆ**
   - ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ã§è‡ªå‹•å®Ÿè¡Œ
   - æ‰‹å‹•: `npm run dev` å†èµ·å‹•

2. **å‹ãƒã‚§ãƒƒã‚¯**
   ```bash
   npx tsc --noEmit
   ```

3. **ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ**
   ```bash
   npm run build
   ```

---

## ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### Vercelãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š

**ãƒ“ãƒ«ãƒ‰è¨­å®š**:
```json
{
  "buildCommand": "npm run build",
  "outputDirectory": ".next",
  "installCommand": "npm install"
}
```

**ç’°å¢ƒå¤‰æ•°**:
```
# Cloudinary
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your_cloud_name
NEXT_PUBLIC_CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_secret

# CMS
GITHUB_TOKEN=your_github_token

# Shop API
NEXT_PUBLIC_SHOP_API_URL=https://api.shop.no-trace.jp
NEXT_PUBLIC_SHOP_URL=https://shop.no-trace.jp
```

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼

```
Git Push â†’ GitHub
    â†“
Webhook Trigger
    â†“
Vercel Build Start
    â†“
1. npm install
2. Contentlayer Processing
3. Next.js Build
4. Static Export
    â†“
CDN Distribution
    â†“
Live Site Update
```

### ãƒ“ãƒ«ãƒ‰æ™‚ã®æ³¨æ„ç‚¹

1. **Contentlayerè­¦å‘Š**
   - Heroè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«è­¦å‘Šã¯ç„¡è¦–å¯èƒ½
   - å®Ÿéš›ã®è¨˜äº‹ã«å½±éŸ¿ãªã—

2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**
   - ç”»åƒã¯Cloudinaryã§è‡ªå‹•æœ€é©åŒ–
   - é™çš„ç”Ÿæˆã§é«˜é€Ÿè¡¨ç¤º

3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**
   - å¿…é ˆé …ç›®ãƒã‚§ãƒƒã‚¯
   - å‹å®‰å…¨æ€§ã®ç¢ºä¿

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Contentlayer ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: `Type 'Article' is not defined`

**è§£æ±º**:
```bash
rm -rf .contentlayer
npm run dev
```

### CMS èªè¨¼ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: ãƒ­ãƒ¼ã‚«ãƒ«ã§èªè¨¼ãŒå¿…è¦

**è§£æ±º**:
```yaml
# config.yml
local_backend: true
```

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: Vercelãƒ‡ãƒ—ãƒ­ã‚¤å¤±æ•—

**ç¢ºèª**:
1. ãƒ­ãƒ¼ã‚«ãƒ«ã§ `npm run build` æˆåŠŸã™ã‚‹ã‹
2. ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹
3. Contentlayerã®å‹ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### é™çš„ç”Ÿæˆ

ã™ã¹ã¦ã®è¨˜äº‹ãƒšãƒ¼ã‚¸ã¯ãƒ“ãƒ«ãƒ‰æ™‚ã«é™çš„ç”Ÿæˆ:

```typescript
export async function generateStaticParams() {
  return allArticles.map((article) => ({
    slug: article.slug,
  }))
}
```

### ç”»åƒæœ€é©åŒ–

```tsx
<OptimizedImage
  src={article.image}
  alt={article.title}
  fill
  className="object-cover"
  priority // ATFç”»åƒç”¨
/>
```

### ã‚³ãƒ¼ãƒ‰åˆ†å‰²

Next.js App Routerã®è‡ªå‹•ã‚³ãƒ¼ãƒ‰åˆ†å‰²:
- ãƒšãƒ¼ã‚¸ã”ã¨ã«åˆ†å‰²
- å…±æœ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯è‡ªå‹•æœ€é©åŒ–

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### XSSå¯¾ç­–

- MDXã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ã‚µãƒ‹ã‚¿ã‚¤ã‚ºæ¸ˆã¿
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã¯æ¤œè¨¼

### èªè¨¼

- GitHub OAuth
- ãƒªãƒã‚¸ãƒˆãƒªã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

### ç’°å¢ƒå¤‰æ•°

- æ©Ÿå¯†æƒ…å ±ã¯ `.env.local`
- Git ã«ã¯å«ã‚ãªã„ (`.gitignore`)

---

## å‚è€ƒãƒªãƒ³ã‚¯

- [Next.js Documentation](https://nextjs.org/docs)
- [Contentlayer Documentation](https://www.contentlayer.dev/docs)
- [Sveltia CMS Documentation](https://github.com/sveltia/sveltia-cms)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)

---

**ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ç¶™ç¶šçš„ã«æ›´æ–°ã•ã‚Œã¾ã™**

**æœ€çµ‚æ›´æ–°**: 2025-01-15
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v0.4.0
