# ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

> æ–‡æ¡£ç‰ˆæœ¬: v1.0
> æœ€åæ›´æ–°: 2025-01-12

## ğŸ—ï¸ æ•´ä½“æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”¨æˆ·æµè§ˆå™¨                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                                               â”‚
              â–¼                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸»ç«™ (notrace-nextjs)      â”‚         â”‚  å•†åŸå‰ç«¯                   â”‚
â”‚  Port: 3000                 â”‚         â”‚  (nteshop-storefront)       â”‚
â”‚                             â”‚         â”‚  Port: 8000                 â”‚
â”‚  - ä¼ä¸šå®˜ç½‘                 â”‚         â”‚                             â”‚
â”‚  - LAB/CLUB é¡µé¢            â”‚         â”‚  - å•†å“æµè§ˆ                 â”‚
â”‚  - CMS å†…å®¹ç®¡ç†             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤  - è´­ç‰©è½¦                   â”‚
â”‚  - ç®¡ç†åå°                 â”‚  é“¾æ¥   â”‚  - ç»“è´¦æµç¨‹                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                                       â”‚
              â”‚ API è°ƒç”¨                              â”‚ API è°ƒç”¨
              â”‚                                       â”‚
              â–¼                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å•†åŸåç«¯ (Medusa Backend)                          â”‚
â”‚           Port: 9000                                          â”‚
â”‚                                                               â”‚
â”‚  - å•†å“ç®¡ç†    - è®¢å•å¤„ç†                                     â”‚
â”‚  - åº“å­˜ç®¡ç†    - æ”¯ä»˜é›†æˆ                                     â”‚
â”‚  - ç”¨æˆ·ç®¡ç†    - ç‰©æµé›†æˆ                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

External Services:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cloudinary   â”‚  â”‚ Sveltia CMS  â”‚  â”‚   GitHub     â”‚
â”‚ (å›¾ç‰‡CDN)    â”‚  â”‚ (å†…å®¹ç®¡ç†)   â”‚  â”‚ (Gitä»“åº“)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŒé¡¹ç›®ç‹¬ç«‹æ¶æ„è®¾è®¡ç†å¿µ

#### ä¸ºä»€ä¹ˆç‹¬ç«‹?
1. **æŠ€æœ¯æ ˆéš”ç¦»**: ä¸»ç«™ä¸“æ³¨å†…å®¹å±•ç¤º,å•†åŸä¸“æ³¨ç”µå•†åŠŸèƒ½
2. **éƒ¨ç½²çµæ´»**: å¯ç‹¬ç«‹éƒ¨ç½²ã€ç‹¬ç«‹æ‰©å±•
3. **ç»´æŠ¤ç®€åŒ–**: åŠŸèƒ½è¾¹ç•Œæ¸…æ™°,é™ä½è€¦åˆåº¦
4. **æ€§èƒ½ä¼˜åŒ–**: å„è‡ªä¼˜åŒ–ç­–ç•¥ä¸äº’ç›¸å½±å“

#### é›†æˆæ–¹å¼
- **APIè°ƒç”¨**: ä¸»ç«™é€šè¿‡REST APIè·å–å•†å“æ•°æ®
- **å¤–éƒ¨é“¾æ¥**: ç”¨æˆ·è·³è½¬è‡³ç‹¬ç«‹å•†åŸå®Œæˆè´­ä¹°
- **æ•°æ®åŒæ­¥**: å•†å“ä¿¡æ¯å®æ—¶è·å–,æ— éœ€æ•°æ®åº“åŒæ­¥

## ğŸ“‚ ç›®å½•ç»“æ„è¯¦è§£

### å®Œæ•´ç›®å½•æ ‘
```
notrace-nextjs/
â”œâ”€â”€ app/                           # Next.js 14 App Router
â”‚   â”œâ”€â”€ layout.tsx                 # æ ¹å¸ƒå±€ (åŒ…å«å¯¼èˆªæ ã€é¡µè„š)
â”‚   â”œâ”€â”€ page.tsx                   # é¦–é¡µ
â”‚   â”œâ”€â”€ globals.css                # å…¨å±€æ ·å¼
â”‚   â”‚
â”‚   â”œâ”€â”€ articles/                  # æ–‡ç« ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ page.tsx              # æ–‡ç« åˆ—è¡¨é¡µ
â”‚   â”‚   â”œâ”€â”€ [slug]/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx          # æ–‡ç« è¯¦æƒ…é¡µ
â”‚   â”‚   â””â”€â”€ category/
â”‚   â”‚       â””â”€â”€ [category]/
â”‚   â”‚           â””â”€â”€ page.tsx      # åˆ†ç±»æ–‡ç« åˆ—è¡¨
â”‚   â”‚
â”‚   â”œâ”€â”€ news/                      # æ–°é—»ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ page.tsx              # æ–°é—»åˆ—è¡¨é¡µ
â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚       â””â”€â”€ page.tsx          # æ–°é—»è¯¦æƒ…é¡µ
â”‚   â”‚
â”‚   â”œâ”€â”€ lab/                       # LABé¡µé¢
â”‚   â”‚   â””â”€â”€ page.tsx              # å•†å“å±•ç¤ºé¡µ
â”‚   â”‚
â”‚   â”œâ”€â”€ club/                      # CLUBé¡µé¢
â”‚   â”‚   â””â”€â”€ page.tsx              # ä¼šå‘˜æœåŠ¡é¡µ
â”‚   â”‚
â”‚   â”œâ”€â”€ about/                     # å…³äºé¡µé¢
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ admin/                     # ç®¡ç†åå°
â”‚   â”‚   â”œâ”€â”€ page.tsx              # ç»Ÿä¸€ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ layout.tsx            # åå°å¸ƒå±€
â”‚   â”‚   â””â”€â”€ cms/
â”‚   â”‚       â””â”€â”€ page.tsx          # Sveltia CMSé¡µé¢
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                       # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ hero-config/
â”‚   â”‚       â””â”€â”€ route.ts          # Heroé…ç½®API
â”‚   â”‚
â”‚   â””â”€â”€ error.tsx                  # å…¨å±€é”™è¯¯é¡µé¢
â”‚
â”œâ”€â”€ components/                    # Reactç»„ä»¶
â”‚   â”œâ”€â”€ ui/                        # å…±äº«UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Container.tsx         # å®¹å™¨ç»„ä»¶ (3ç§å°ºå¯¸)
â”‚   â”‚   â”œâ”€â”€ Section.tsx           # åŒºå—ç»„ä»¶ (å¤šç§æ ·å¼)
â”‚   â”‚   â””â”€â”€ OptimizedImage.tsx    # å›¾ç‰‡ä¼˜åŒ–ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ admin/                     # ç®¡ç†åå°ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ AdminTabs.tsx         # Tabå¯¼èˆª
â”‚   â”‚   â”œâ”€â”€ CMSPanel.tsx          # CMSç®¡ç†é¢æ¿
â”‚   â”‚   â”œâ”€â”€ ImageManagementPanel.tsx  # å›¾ç‰‡ç®¡ç†
â”‚   â”‚   â””â”€â”€ HeroManagementPanel.tsx   # Heroç¼–è¾‘å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ articles/                  # æ–‡ç« ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ArticleCard.tsx       # æ–‡ç« å¡ç‰‡
â”‚   â”‚   â””â”€â”€ Mdx.tsx               # MDXæ¸²æŸ“å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ news/                      # æ–°é—»ç»„ä»¶
â”‚   â”‚   â””â”€â”€ NewsCard.tsx          # æ–°é—»å¡ç‰‡
â”‚   â”‚
â”‚   â”œâ”€â”€ lab/                       # LABä¸“ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ LabHeroSection.tsx    # LAB Hero
â”‚   â”‚   â””â”€â”€ LabProductsSection.tsx # å•†å“å±•ç¤º
â”‚   â”‚
â”‚   â”œâ”€â”€ ShopEntranceSection.tsx    # å•†åŸå…¥å£
â”‚   â”œâ”€â”€ FeaturedProductsFromShop.tsx # ç²¾é€‰å•†å“
â”‚   â”œâ”€â”€ FeaturedArticlesSection.tsx  # ç²¾é€‰å†…å®¹
â”‚   â”œâ”€â”€ Navbar.tsx                 # å¯¼èˆªæ 
â”‚   â”œâ”€â”€ Footer.tsx                 # é¡µè„š
â”‚   â””â”€â”€ ErrorBoundary.tsx          # é”™è¯¯è¾¹ç•Œ
â”‚
â”œâ”€â”€ content/                       # Markdownå†…å®¹
â”‚   â”œâ”€â”€ articles/                  # ä¼ä¸šæ–‡ç« 
â”‚   â”‚   â”œâ”€â”€ example-article.md
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ news/                      # æ–°é—»å‘å¸ƒ
â”‚   â”‚   â”œâ”€â”€ example-news.md
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ hero/                      # Heroé…ç½®
â”‚       â””â”€â”€ config.md              # Heroå†…å®¹é…ç½®
â”‚
â”œâ”€â”€ public/                        # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/                    # å›¾ç‰‡èµ„æº
â”‚   â””â”€â”€ admin/                     # CMSé…ç½®
â”‚       â””â”€â”€ config.yml             # Sveltia CMSé…ç½®
â”‚
â”œâ”€â”€ hooks/                         # è‡ªå®šä¹‰Hooks
â”‚   â””â”€â”€ useHeroData.ts            # Heroæ•°æ®Hook
â”‚
â”œâ”€â”€ lib/                           # å·¥å…·åº“
â”‚   â””â”€â”€ utils.ts                   # å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ docs/                          # é¡¹ç›®æ–‡æ¡£ ğŸ“š
â”‚   â”œâ”€â”€ 00-README.md
â”‚   â”œâ”€â”€ 01-quickstart/
â”‚   â”œâ”€â”€ 02-architecture/
â”‚   â”œâ”€â”€ 03-features/
â”‚   â”œâ”€â”€ 04-development/
â”‚   â””â”€â”€ 05-deployment/
â”‚
â”œâ”€â”€ .contentlayer/                 # Contentlayerç”Ÿæˆæ–‡ä»¶
â”œâ”€â”€ next.config.mjs                # Next.jsé…ç½®
â”œâ”€â”€ tailwind.config.ts             # Tailwindé…ç½®
â”œâ”€â”€ tsconfig.json                  # TypeScripté…ç½®
â”œâ”€â”€ contentlayer.config.ts         # Contentlayeré…ç½®
â””â”€â”€ package.json                   # é¡¹ç›®ä¾èµ–
```

### æ ¸å¿ƒç›®å½•è¯´æ˜

#### `app/` - é¡µé¢å’Œè·¯ç”±
- ä½¿ç”¨ Next.js 14 App Router
- æ–‡ä»¶ç³»ç»Ÿè·¯ç”±,æ¯ä¸ª `page.tsx` æ˜¯ä¸€ä¸ªè·¯ç”±
- æ”¯æŒå¸ƒå±€åµŒå¥— (`layout.tsx`)
- APIè·¯ç”±åœ¨ `app/api/` ä¸‹

#### `components/` - ç»„ä»¶åº“
- **ui/**: åŸºç¡€UIç»„ä»¶,é«˜å¤ç”¨æ€§
- **admin/**: ç®¡ç†åŠŸèƒ½ä¸“ç”¨ç»„ä»¶
- **articles/**, **news/**: å†…å®¹å±•ç¤ºç»„ä»¶
- **lab/**: LABé¡µé¢ä¸“ç”¨ç»„ä»¶
- å…¶ä»–: ä¸šåŠ¡ç»„ä»¶

#### `content/` - å†…å®¹æ–‡ä»¶
- Markdownæ ¼å¼å­˜å‚¨å†…å®¹
- ç”± Contentlayer å¤„ç†ç”Ÿæˆ TypeScript ç±»å‹
- Sveltia CMS ç®¡ç†ç¼–è¾‘

#### `public/` - é™æ€èµ„æº
- ç›´æ¥æ˜ å°„åˆ°ç½‘ç«™æ ¹è·¯å¾„
- å­˜æ”¾å›¾ç‰‡ã€é…ç½®æ–‡ä»¶ç­‰

## ğŸ”„ æ•°æ®æµ

### 1. é¡µé¢æ¸²æŸ“æµç¨‹
```
ç”¨æˆ·è®¿é—®é¡µé¢
    â†“
Next.js Server Component
    â†“
è·å–æ•°æ® (Contentlayer / API)
    â†“
React ç»„ä»¶æ¸²æŸ“
    â†“
HTML è¿”å›æµè§ˆå™¨
    â†“
å®¢æˆ·ç«¯æ°´åˆ (Hydration)
```

### 2. CMSå†…å®¹æ›´æ–°æµç¨‹
```
ç¼–è¾‘è€…ç™»å½• Sveltia CMS
    â†“
ç¼–è¾‘ Markdown æ–‡ä»¶
    â†“
æäº¤åˆ° Git ä»“åº“
    â†“
Contentlayer è‡ªåŠ¨å¤„ç†
    â†“
ç”Ÿæˆ TypeScript ç±»å‹
    â†“
é¡µé¢è‡ªåŠ¨æ›´æ–°å†…å®¹
```

### 3. å•†åŸæ•°æ®è·å–æµç¨‹
```
ä¸»ç«™é¡µé¢è¯·æ±‚
    â†“
è°ƒç”¨ Medusa API
GET /store/products
    â†“
è¿”å› JSON æ•°æ®
    â†“
ç»„ä»¶æ¸²æŸ“å•†å“ä¿¡æ¯
    â†“
ç”¨æˆ·ç‚¹å‡»è´­ä¹°
    â†“
è·³è½¬åˆ°å•†åŸå‰ç«¯
```

## ğŸ›¡ï¸ å®‰å…¨æ¶æ„

### APIå®‰å…¨
- **CORSé…ç½®**: å•†åŸåç«¯é™åˆ¶å…è®¸çš„åŸŸå
- **ç¯å¢ƒå˜é‡**: æ•æ„Ÿé…ç½®ä¸æäº¤åˆ°ä»£ç åº“
- **APIå¯†é’¥**: ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†

### å†…å®¹å®‰å…¨
- **Git-based CMS**: æ‰€æœ‰å†…å®¹å˜æ›´æœ‰ç‰ˆæœ¬æ§åˆ¶
- **Markdownå®‰å…¨**: Contentlayer å¤„ç†é˜²æ­¢æ³¨å…¥
- **å›¾ç‰‡ä¼˜åŒ–**: Next.js Image è‡ªåŠ¨ä¼˜åŒ–å’Œå®‰å…¨å¤„ç†

### ç®¡ç†åå°
- **è·¯ç”±ä¿æŠ¤**: (è®¡åˆ’) æ·»åŠ è®¤è¯ä¸­é—´ä»¶
- **æƒé™ç®¡ç†**: (è®¡åˆ’) åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶

## ğŸ“Š æ€§èƒ½æ¶æ„

### Next.jsä¼˜åŒ–
- **Server Components**: é»˜è®¤æœåŠ¡ç«¯æ¸²æŸ“
- **Static Generation**: é™æ€é¡µé¢ç”Ÿæˆ
- **Image Optimization**: è‡ªåŠ¨å›¾ç‰‡ä¼˜åŒ–
- **Code Splitting**: è‡ªåŠ¨ä»£ç åˆ†å‰²

### ç¼“å­˜ç­–ç•¥
- **Contentlayer**: æ„å»ºæ—¶ç”Ÿæˆ,æ— è¿è¡Œæ—¶å¼€é”€
- **APIç¼“å­˜**: (è®¡åˆ’) Redisç¼“å­˜å•†å“æ•°æ®
- **CDN**: Cloudinary å›¾ç‰‡CDNåŠ é€Ÿ

### åŠ è½½ä¼˜åŒ–
- **æ‡’åŠ è½½**: å›¾ç‰‡å’Œç»„ä»¶æŒ‰éœ€åŠ è½½
- **é¢„åŠ è½½**: å…³é”®èµ„æºé¢„åŠ è½½
- **å­—ä½“ä¼˜åŒ–**: Next.js å­—ä½“ä¼˜åŒ–

## ğŸ”Œ å¤–éƒ¨æœåŠ¡é›†æˆ

### Cloudinary (å›¾ç‰‡CDN)
- **ç”¨é€”**: å›¾ç‰‡å­˜å‚¨å’Œä¼˜åŒ–
- **é›†æˆæ–¹å¼**: Next.js Cloudinary ç»„ä»¶
- **ç®¡ç†**: ç®¡ç†åå°å›¾ç‰‡ç®¡ç†é¢æ¿

### Sveltia CMS (å†…å®¹ç®¡ç†)
- **ç”¨é€”**: å¯è§†åŒ–ç¼–è¾‘ Markdown å†…å®¹
- **é›†æˆæ–¹å¼**: iframe åµŒå…¥ç®¡ç†åå°
- **å­˜å‚¨**: Git ä»“åº“ (GitHub)

### Medusa (ç”µå•†åç«¯)
- **ç”¨é€”**: å•†å“ã€è®¢å•ã€åº“å­˜ç®¡ç†
- **é›†æˆæ–¹å¼**: REST API
- **ç«¯ç‚¹**: http://localhost:9000 (å¼€å‘)

## ğŸ¯ æ¶æ„è®¾è®¡åŸåˆ™

### 1. å…³æ³¨ç‚¹åˆ†ç¦»
- å†…å®¹ç®¡ç†ç‹¬ç«‹äºä¸šåŠ¡é€»è¾‘
- UIç»„ä»¶ä¸æ•°æ®è·å–åˆ†ç¦»
- ä¸»ç«™ä¸å•†åŸèŒè´£æ¸…æ™°

### 2. ç»„ä»¶åŒ–è®¾è®¡
- å•ä¸€èŒè´£åŸåˆ™
- é«˜å¤ç”¨æ€§
- æ¸…æ™°çš„ç»„ä»¶å±‚çº§

### 3. ç±»å‹å®‰å…¨
- TypeScript å…¨è¦†ç›–
- Contentlayer è‡ªåŠ¨ç±»å‹ç”Ÿæˆ
- APIå“åº”ç±»å‹å®šä¹‰

### 4. ç”¨æˆ·ä½“éªŒä¼˜å…ˆ
- å¿«é€Ÿå“åº” (SSR/SSG)
- ä¼˜é›…é™çº§ (é”™è¯¯å¤„ç†)
- æ¸è¿›å¢å¼º (å®¢æˆ·ç«¯äº¤äº’)

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æŠ€æœ¯æ ˆè¯´æ˜](./tech-stack.md)
- [å¤–éƒ¨é›†æˆ](./integrations.md)
- [APIå‚è€ƒ](../04-development/api-reference.md)

---

**ç»´æŠ¤è€…**: Development Team
**æœ€åæ›´æ–°**: 2025-01-12
